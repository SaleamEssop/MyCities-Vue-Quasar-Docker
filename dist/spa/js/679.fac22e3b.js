"use strict";(globalThis["webpackChunkcom_smart_meter_reading"]=globalThis["webpackChunkcom_smart_meter_reading"]||[]).push([[679],{3679:(e,a,t)=>{t.r(a),t.d(a,{default:()=>Q});var s=t(1758),l=t(8790),o=t(9104),r=t(8734),n=t(3394),i=t(4907),u=t(4685);const d={class:"forgot-container"},c={class:"header-section"},m={class:"icon-section"},v={class:"back-link"},k={key:3,class:"email-sent"},g={class:"resend-link q-mt-md"},b={__name:"ForgotPasswordPage",setup(e){const a=(0,n.rd)(),t=(0,i.A)(),b=(0,r.KR)(""),p=(0,r.KR)(!1),f=(0,r.KR)(""),y=(0,r.KR)(""),h=(0,r.KR)(!1);async function _(){if(f.value="",y.value="",b.value)if((0,u.B9)(b.value)){p.value=!0;try{await new Promise(e=>setTimeout(e,1e3));(0,u.x2)(b.value);y.value=`Password reset instructions have been sent to ${b.value}`,h.value=!0,t.notify({type:"positive",message:"Reset email sent! Check your inbox.",position:"top"})}catch(e){f.value=e.message||"An error occurred. Please try again."}finally{p.value=!1}}else f.value="Please enter a valid email address";else f.value="Please enter your email address"}async function w(){p.value=!0;try{await new Promise(e=>setTimeout(e,1e3)),t.notify({type:"positive",message:"Reset email resent! Check your inbox.",position:"top"})}finally{p.value=!1}}function q(){window.history.length>1?a.back():a.push({name:"login"})}return(e,a)=>{const t=(0,s.g2)("q-btn"),n=(0,s.g2)("q-icon"),i=(0,s.g2)("q-banner"),F=(0,s.g2)("q-input"),A=(0,s.g2)("router-link"),L=(0,s.g2)("q-form"),R=(0,s.g2)("q-card-section"),P=(0,s.g2)("q-card"),Q=(0,s.g2)("q-page");return(0,s.uX)(),(0,s.Wv)(Q,{class:"forgot-password-page"},{default:(0,s.k6)(()=>[(0,s.Lk)("div",d,[(0,s.Lk)("div",c,[(0,s.bF)(t,{flat:"",round:"",icon:"arrow_back",color:"white",onClick:q,"data-test":"forgot-back"}),a[1]||(a[1]=(0,s.Lk)("h1",{class:"page-title"},"Reset Password",-1)),a[2]||(a[2]=(0,s.Lk)("div",{style:{width:"40px"}},null,-1))]),(0,s.bF)(P,{class:"forgot-card"},{default:(0,s.k6)(()=>[(0,s.bF)(R,null,{default:(0,s.k6)(()=>[(0,s.Lk)("div",m,[(0,s.bF)(n,{name:"lock_reset",size:"64px",color:"primary"})]),a[5]||(a[5]=(0,s.Lk)("h2",{class:"form-title"},"Forgot your password?",-1)),a[6]||(a[6]=(0,s.Lk)("p",{class:"form-subtitle"}," Enter your email address and we'll send you instructions to reset your password. ",-1)),y.value?((0,s.uX)(),(0,s.Wv)(i,{key:0,class:"bg-positive text-white q-mb-md",rounded:"","data-test":"forgot-success"},{avatar:(0,s.k6)(()=>[(0,s.bF)(n,{name:"check_circle"})]),default:(0,s.k6)(()=>[(0,s.eW)(" "+(0,l.v_)(y.value),1)]),_:1})):(0,s.Q3)("",!0),f.value?((0,s.uX)(),(0,s.Wv)(i,{key:1,class:"bg-negative text-white q-mb-md",rounded:"","data-test":"forgot-error"},{default:(0,s.k6)(()=>[(0,s.eW)((0,l.v_)(f.value),1)]),_:1})):(0,s.Q3)("",!0),h.value?((0,s.uX)(),(0,s.CE)("div",k,[(0,s.bF)(t,{color:"primary",label:"Back to Sign In",class:"full-width",to:{name:"login"},"data-test":"forgot-back-to-login"}),(0,s.Lk)("div",g,[a[4]||(a[4]=(0,s.eW)(" Didn't receive the email? ",-1)),(0,s.Lk)("a",{href:"#",onClick:(0,o.D$)(w,["prevent"]),class:"link"},"Resend")])])):((0,s.uX)(),(0,s.Wv)(L,{key:2,onSubmit:(0,o.D$)(_,["prevent"]),class:"forgot-form"},{default:(0,s.k6)(()=>[(0,s.bF)(F,{modelValue:b.value,"onUpdate:modelValue":a[0]||(a[0]=e=>b.value=e),type:"email",label:"Email Address *",outlined:"",rules:[e=>!!e||"Email is required",e=>(0,r.R1)(u.B9)(e)||"Invalid email format"],"data-test":"forgot-email",class:"q-mb-md"},{prepend:(0,s.k6)(()=>[(0,s.bF)(n,{name:"email"})]),_:1},8,["modelValue","rules"]),(0,s.bF)(t,{type:"submit",color:"primary",label:"Send Reset Link",class:"full-width q-mb-md",loading:p.value,"data-test":"forgot-submit"},null,8,["loading"]),(0,s.Lk)("div",v,[(0,s.bF)(A,{to:{name:"login"},class:"link"},{default:(0,s.k6)(()=>[(0,s.bF)(n,{name:"arrow_back",size:"16px",class:"q-mr-xs"}),a[3]||(a[3]=(0,s.eW)(" Back to Sign In ",-1))]),_:1})])]),_:1}))]),_:1})]),_:1})])]),_:1})}}};var p=t(2807),f=t(7716),y=t(6384),h=t(3316),_=t(4189),w=t(492),q=t(6868),F=t(9200),A=t(9270),L=t(8582),R=t.n(L);const P=(0,p.A)(b,[["__scopeId","data-v-ac4d5d98"]]),Q=P;R()(b,"components",{QPage:f.A,QBtn:y.A,QCard:h.A,QCardSection:_.A,QIcon:w.A,QBanner:q.A,QForm:F.A,QInput:A.A})}}]);