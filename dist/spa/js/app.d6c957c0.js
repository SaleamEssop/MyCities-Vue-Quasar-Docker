(()=>{"use strict";var e={485:(e,t,a)=>{a.r(t),a.d(t,{useSiteStore:()=>r});a(310),a(5962);var n=a(5679);const r=(0,n.nY)("site",{state:()=>({selectedSite:null,sites:[]}),getters:{allSites:e=>e.sites},actions:{addSite(e){this.sites.push(e)},getSiteById(e){return this.sites.filter(({id:t})=>t==e)[0]},replace(e){this.sites=e}},persist:!0})},660:(e,t,a)=>{a.r(t),a.d(t,{SERVER_URL:()=>s,addMeterAndReading:()=>v,addReadingInMeter:()=>S,addSiteAndAccount:()=>b,api:()=>d,default:()=>B,defaultCost:()=>I,deleteMainAccount:()=>R,deleteMainMeter:()=>C,deleteMeterReadings:()=>E,fetchAndSaveMeterOnAccount:()=>L,findAddressCandidates:()=>g,findEmailFromLocation:()=>p,forgotPasswordVerification:()=>D,forgotPasswordVerificationCode:()=>k,getAds:()=>P,getAlarms:()=>M,getAllData:()=>y,getTariffTemplates:()=>O,locationApi:()=>l,resetNewPassword:()=>x,suggestLocation:()=>m,updateAccount:()=>A,updateReadingInMeter:()=>_,userLogin:()=>h,userSignUp:()=>f});a(310),a(6724),a(2802);var n=a(1573),r=a(6306),o=a.n(r);const s="http://localhost:8000";let i=null,c=null;const d=()=>(i||(i=o().create({baseURL:`${s}/api`}),i.interceptors.request.use(e=>(c&&(e.headers["Authorization"]=`Bearer ${c.getToken}`),e)),i.interceptors.response.use(e=>e.data)),i),l=o().create({baseURL:"https://geocode-api.arcgis.com"}),u="AAPKc12c49d88ad5489486e82db8ebefb94aXNVU8kLARKQJ0rA5KFeUOYRjHqTU9l2phoZf1pFANCXNR-hkFOOQJmeFUYp4nnzQ",m=async e=>await l.get(`/arcgis/rest/services/World/GeocodeServer/suggest?f=pjson&token=${u}&text=${e}`),g=async(e,t)=>await l.get(`/arcgis/rest/services/World/GeocodeServer/findAddressCandidates?f=pjson&token=${u}&singleLine=${e}&magicKey=${t}&outSR=%7B%22wkid%22%3A102100%7D&countryCode=ZAF`),p=async e=>{let t={f:"json",returnGeometry:!1,spatialRel:"esriSpatialRelIntersects",geometryType:"esriGeometryPoint",geometry:e,inSR:102100,outFields:"*",outSR:102100};return await o().create({baseURL:"https://services3.arcgis.com"}).get("/HO0zfySJshlD6Twu/arcgis/rest/services/MeterReadingSuburbs/FeatureServer/0/query",{params:t})},h=async e=>await d().post("/v1/user/login",e),f=async e=>await d().post("/v1/user/register",e),b=async e=>await d().post("/v1/account/add",{user_id:c?.getUser?.id,...e}),A=async e=>await d().post("/v1/account/update",{user_id:c?.getUser?.id,...e}),v=async e=>d().post("/v1/meter/add",e),y=async()=>await d().get(`/v1/all-data?user_id=${c?.getUser?.id}`),w=async e=>await d().get(`/v1/meter/get?account_id=${e}`),S=async e=>await d().post("/v1/meter/add-readings",e),_=async e=>await d().post("/v1/meter/update-readings",e),P=async()=>await d().get("/v1/ads/get-categories"),R=async e=>await d().post("/v1/account/delete",e),C=async e=>await d().post("/v1/meter/delete",e),E=async e=>{const t=new FormData;return e&&t.append("reading_id",e.reading_id),await d().post("/v1/meter/delete-readings",t)},I=async()=>await d().get("/v1/default-cost/get"),M=async()=>await d().get("/v1/get-alarms"),O=async()=>await d().get("/v1/tariff-templates"),D=async e=>await d().post("/v1/forgot-password/email-verification",e),k=async e=>await d().post("/v1/forgot-password/verify-code",e),x=async e=>await d().post("/v1/forgot-password/reset-password",e),N="https://media.istockphoto.com/vectors/water-faucet-icon-vector-vector-id604383296?k=20&m=604383296&s=612x612&w=0&h=rAPcq11vU1posV21tn1d6Tu6NeNIC0sGUwJ6gPZ8oW0=",q="https://cdn3.iconfinder.com/data/icons/wsd-power/512/power-09-512.png";let U=null,T=null;const L=e=>{w(e).then(({status:t,data:a})=>{if(t&&U&&T){const t=a.reduce((e,t)=>{const a=t,n=2==a.meter_type_id?10:1e4,r=t.readings.map(e=>({id:e.id,meter:{id:e.meter_id},time:new Date(e.reading_date).getTime(),value:parseFloat(e.reading_value)/n,valueInString:e.reading_value}));return e.readings.push(...r),e.meters.push({account:{id:a.account_id},id:a.id,number:a.meter_number,title:a.meter_title,type:{id:a.meter_type_id,title:a.meter_title,thumbnail:2===a.meter_type_id?q:N}}),delete t.readings,e},{meters:[],readings:[]});U.saveMeterByAccountId(t.meters,e),T.saveReadings(t.readings)}})},B=(0,n.zj)(({app:e})=>{try{console.log("[axios boot] Starting...");const{useUserStore:t}=a(3009),{useMeterStore:n}=a(1393),{useReadingStore:r}=a(9004);console.log("[axios boot] Stores imported"),c=t(),U=n(),T=r(),console.log("[axios boot] Stores initialized"),d(),console.log("[axios boot] API initialized"),e.config.globalProperties.$axios=o(),e.config.globalProperties.$api=d(),e.config.globalProperties.$locationApi=l,console.log("[axios boot] Complete!")}catch(e){console.error("[axios boot] ERROR:",e)}})},1393:(e,t,a)=>{a.r(t),a.d(t,{useMeterStore:()=>o});a(310),a(5962),a(2203),a(95),a(6724);var n=a(5679),r=a(1758);const o=(0,n.nY)("meter",{state:()=>({selectedMeter:null,meters:[]}),getters:{allMeters:e=>{const t=e.meters;return t.map(e=>{const t=(0,r.nI)().appContext.config.globalProperties.$METER_TYPES;return e.type=t.find(t=>t.id==e.type.id),e})}},actions:{addMeter(e){this.meters.push(e)},getByAccuntId(e){return this.allMeters.filter(({account:t})=>t.id==e).filter(e=>void 0==e["deletedAt"]||null==e["deletedAt"])},getMeterById(e){return this.allMeters.find(({id:t})=>t==e)},deleteMeter(e){let t=this.meters.findIndex(({id:t})=>(this.selectedMeter=null,e.id==t));this.meters[t]["deletedAt"]=Date.now(),t>-1&&this.meters.splice(t,1)},saveMeterByAccountId(e,t){const a=this.getByAccuntId(t);a.forEach(e=>{let t=this.meters.findIndex(({id:t})=>e.id==t);t>-1&&this.meters.splice(t,1)}),this.meters.push(...e)}},persist:!0})},1890:(e,t,a)=>{a(310),a(5962),a(6724);var n=a(9104),r=a(6501),o=a(8734),s=a(1758);const i={class:"backgroundImage"};function c(e,t,a,n,r,o){const c=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",i,[(0,s.bF)(c)])}const d=(0,s.pM)({name:"App",setup(){return{}}});var l=a(2807),u=a(330),m=a(2156),g=a(3316),p=a(4189),h=a(2669),f=a(6384),b=a(8672),A=a(8582),v=a.n(A);const y=(0,l.A)(d,[["render",c],["__scopeId","data-v-68c15472"]]),w=y;v()(d,"components",{QImg:u.A,QDialog:m.A,QCard:g.A,QCardSection:p.A,QCardActions:h.A,QBtn:f.A}),v()(d,"directives",{ClosePopup:b.A});var S=a(1573),_=a(5679),P=a(1271),R=a(2269);const C=(0,S.M_)(()=>{const e=(0,_.Ey)();return e.use((0,R.$)(P.A)),e});a(9240);var E=a(3394);const I=[{path:"/",component:()=>Promise.all([a.e(121),a.e(513)]).then(a.bind(a,7513)),children:[{path:"login",component:()=>Promise.all([a.e(121),a.e(418)]).then(a.bind(a,3418)),name:"login",meta:{title:"Login",guest:!0}},{path:"account-setup",component:()=>Promise.all([a.e(121),a.e(476)]).then(a.bind(a,4476)),name:"account-setup",meta:{title:"Create Account",guest:!0}},{path:"register",component:()=>Promise.all([a.e(121),a.e(976)]).then(a.bind(a,2976)),name:"register",meta:{title:"Register",guest:!0}},{path:"forgot-password",component:()=>Promise.all([a.e(121),a.e(679)]).then(a.bind(a,3679)),name:"forgot-password",meta:{title:"Forgot Password",guest:!0}},{path:"select-account",component:()=>Promise.all([a.e(121),a.e(667)]).then(a.bind(a,3667)),name:"account-select",meta:{title:"Select Account",requiresAuth:!0}},{path:"dashboard",component:()=>Promise.all([a.e(121),a.e(996),a.e(907)]).then(a.bind(a,8907)),name:"home",meta:{title:"Dashboard",requiresAuth:!0}},{path:"enter-readings",component:()=>Promise.all([a.e(121),a.e(741)]).then(a.bind(a,8741)),name:"enter-readings",meta:{title:"Enter Readings",requiresAuth:!0}},{path:"water-reading",component:()=>Promise.all([a.e(121),a.e(996),a.e(288)]).then(a.bind(a,5288)),name:"water-reading",meta:{title:"Enter Water Reading",requiresAuth:!0}},{path:"electricity-reading",component:()=>Promise.all([a.e(121),a.e(996),a.e(136)]).then(a.bind(a,1136)),name:"electricity-reading",meta:{title:"Enter Electricity Reading",requiresAuth:!0}},{path:"meter-input",component:()=>Promise.all([a.e(121),a.e(996),a.e(131)]).then(a.bind(a,2999)),name:"meter-input",meta:{title:"Enter Meter Reading",requiresAuth:!0}},{path:"readings-list",component:()=>Promise.all([a.e(121),a.e(996),a.e(163)]).then(a.bind(a,8163)),name:"readings-list",meta:{title:"Readings List",requiresAuth:!0}},{path:"reading/:id",component:()=>Promise.all([a.e(121),a.e(996),a.e(601)]).then(a.bind(a,3601)),name:"reading-preview",meta:{title:"Reading Details",requiresAuth:!0}},{path:"settings",component:()=>Promise.all([a.e(121),a.e(996),a.e(623)]).then(a.bind(a,2623)),name:"settings",meta:{title:"Settings",requiresAuth:!0}},{path:"about",component:()=>Promise.all([a.e(121),a.e(443)]).then(a.bind(a,9443)),name:"about",meta:{title:"About",requiresAuth:!0}},{path:"accounts",component:()=>Promise.all([a.e(121),a.e(816)]).then(a.bind(a,2816)),name:"accounts-list",meta:{title:"Accounts",requiresAuth:!0}},{path:"account/new",component:()=>Promise.all([a.e(121),a.e(476)]).then(a.bind(a,4476)),name:"account-new",meta:{title:"Add Account",requiresAuth:!0}},{path:"account/edit/:accountId",component:()=>Promise.all([a.e(121),a.e(476)]).then(a.bind(a,4476)),name:"account-edit",meta:{title:"Edit Account",requiresAuth:!0}}]},{path:"/admin/login",component:()=>Promise.all([a.e(121),a.e(996),a.e(871)]).then(a.bind(a,8871)),name:"admin-login",meta:{title:"Admin Login",guest:!0}},{path:"/admin",component:()=>Promise.all([a.e(121),a.e(923)]).then(a.bind(a,3923)),meta:{requiresAuth:!0,requiresAdmin:!0},children:[{path:"",redirect:{name:"admin-dashboard"}},{path:"dashboard",component:()=>Promise.all([a.e(121),a.e(459)]).then(a.bind(a,459)),name:"admin-dashboard",meta:{title:"Admin Dashboard"}},{path:"readings",component:()=>Promise.all([a.e(121),a.e(754)]).then(a.bind(a,9754)),name:"admin-readings",meta:{title:"Manage Readings"}},{path:"readings/entry",component:()=>Promise.all([a.e(121),a.e(996),a.e(212)]).then(a.bind(a,2322)),name:"admin-readings-entry",meta:{title:"Enter Readings (Admin)"}},{path:"billing",component:()=>Promise.all([a.e(121),a.e(40)]).then(a.bind(a,3040)),name:"admin-billing",meta:{title:"Billing Management"}},{path:"accounts",component:()=>Promise.all([a.e(121),a.e(800)]).then(a.bind(a,8800)),name:"admin-accounts",meta:{title:"User Accounts"}},{path:"accounts/:accountId/bill",component:()=>Promise.all([a.e(121),a.e(941)]).then(a.bind(a,8941)),name:"admin-account-bill",meta:{title:"Account Bill"}},{path:"tariffs",component:()=>Promise.all([a.e(121),a.e(832)]).then(a.bind(a,7832)),name:"admin-tariffs",meta:{title:"Tariff Management"}},{path:"audit",component:()=>Promise.all([a.e(121),a.e(909)]).then(a.bind(a,9909)),name:"admin-audit",meta:{title:"Audit Log"}}]},{path:"/auth",redirect:"/login"},{path:"/auth/login",redirect:"/login"},{path:"/:catchAll(.*)*",component:()=>a.e(678).then(a.bind(a,2678)),name:"Error"}],M=I;var O=a(4685),D=a(3009);const k=(0,S.wE)(function(){const e=E.Bt,t=(0,E.aE)({scrollBehavior(e,t,a){return a||(e.hash?{el:e.hash,behavior:"smooth"}:{left:0,top:0})},routes:M,history:e("/web-app/")});return t.beforeEach((e,t,a)=>{const n=(0,D.useUserStore)(),r=e.matched.some(e=>e.meta.requiresAuth),o=e.matched.some(e=>e.meta.requiresAdmin),s=e.matched.some(e=>e.meta.guest),i=n.getUser,c=n.getToken,d=Boolean(i&&c),l=d||(0,O.wR)(),u="admin"===i?.role||(0,O.qc)();i&&!c&&(n.signOut(),r)?a({name:"login"}):"/"!==e.path||e.name?!r||l?!o||u?s&&l?u&&"admin-login"!==e.name?a({name:"admin-dashboard"}):a({name:"account-select"}):a():a({name:"admin-login"}):a(o?{name:"admin-login"}:{name:"login"}):a(l?{name:"account-select"}:{name:"login"})}),t});async function x(e,t){const a=e(w);a.use(r.A,t);const n="function"===typeof C?await C({}):C;a.use(n);const s=(0,o.IG)("function"===typeof k?await k({store:n}):k);return n.use(({store:e})=>{e.router=s}),{app:a,store:n,router:s}}var N=a(5382),q=a(9626),U=a(989),T=a(4885),L=a(8327),B=a(6153);const j={config:{},components:{QVideo:N.A},directives:{Ripple:q.A},plugins:{Notify:U.A,Cookies:T.A,LocalStorage:P.A,Dialog:L.A,Loading:B.A}},F="/web-app/",$=/\/\//,J=e=>(F+e).replace($,"/");async function z({app:e,router:t,store:a},n){let r=!1;const o=e=>{try{return J(t.resolve(e).href)}catch(e){}return Object(e)===e?null:e},s=e=>{if(r=!0,"string"===typeof e&&/^https?:\/\//.test(e))return void(window.location.href=e);const t=o(e);null!==t&&(window.location.href=t,window.location.reload())},i=window.location.href.replace(window.location.origin,"");for(let o=0;!1===r&&o<n.length;o++)try{await n[o]({app:e,router:t,store:a,ssrContext:null,redirect:s,urlPath:i,publicPath:F})}catch(e){return e&&e.url?void s(e.url):void console.error("[Quasar] boot error:",e)}!0!==r&&(e.use(t),e.mount("#q-app"))}x(n.Ef,j).then(e=>{const[t,n]=void 0!==Promise.allSettled?["allSettled",e=>e.map(e=>{if("rejected"!==e.status)return e.value.default;console.error("[Quasar] boot error:",e.reason)})]:["all",e=>e.map(e=>e.default)];return Promise[t]([Promise.resolve().then(a.bind(a,660)),Promise.resolve().then(a.bind(a,2433))]).then(t=>{const a=n(t).filter(e=>"function"===typeof e);z(e,a)})})},2255:(e,t,a)=>{a.r(t),a.d(t,{useAccountStore:()=>r});a(310),a(5962),a(2203);var n=a(5679);const r=(0,n.nY)("account",{state:()=>({account:0,selectedAccount:null,accounts:[]}),getters:{allAccounts:e=>e.accounts},actions:{addAccount(e){this.accounts.push(e)},getAccountsById(e){return this.accounts.filter(e=>void 0==e["deletedAt"]||null==e["deletedAt"]).filter(({site:t})=>t.id==e)},getAccountById(e){return this.accounts.filter(e=>void 0==e["deletedAt"]||null==e["deletedAt"]).find(({id:t})=>t==e)},update(e){const t=this.accounts.findIndex(({id:t})=>t==e.id);this.accounts[t]=e},deleteAccount(e){let t=this.accounts.findIndex(({id:t})=>(this.selectedAccount=null,e.id==t));this.accounts[t]["deletedAt"]=Date.now(),t>-1&&this.accounts.splice(t,1)},replace(e){this.accounts=e}},persist:!0})},2433:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u,updateAllData:()=>l});a(310),a(6724),a(2802),a(9240);var n=a(1573);let r=null,o=null,s=null,i=null,c=null,d=null;const l=()=>{if(!r||!r.getUser)return void console.log("Skipping data fetch - user not logged in");const{getAllData:e,getAds:t,defaultCost:n,getAlarms:l}=a(660);e().then(e=>{const t=e?.data||e;if(!t||!o||!s)return;if(!Array.isArray(t))return void console.log("getAllData response is not an array:",t);const a=t.reduce((e,t)=>(e.accounts=e.accounts.concat((t.account||[]).map(e=>({title:e.account_name,id:e.id,number:e.account_number,option:e.optional_information,site:{id:e.site_id},tariff_template_id:e.tariff_template_id,fixedCosts:(e.fixed_costs||[]).map(e=>({title:e.title,value:parseFloat(e.value),isApplicable:1==e.is_active,isFromUser:!0,id:e.id})),defaultFixedCost:e.default_fixed_costs}))),t["latLng"]={lat:t.lat,lng:t.lng},delete t.account,delete t.lat,delete t.lng,e.sites.push(t),e),{sites:[],accounts:[]});o.replace(a.sites),s.replace(a.accounts)}).catch(e=>{console.log("Error fetching all data:",e)}),t().then(e=>{const t=e?.data||e;i&&t&&i.setAds(Array.isArray(t)?t:[])}).catch(e=>{console.log("Error fetching ads:",e)}),n().then(e=>{const t=e?.data||e;c&&t&&c.setDefaultCost(t)}).catch(e=>{console.log("Error fetching default cost:",e)}),l().then(e=>{const t=e?.data||e;d&&t&&d.setAlarms(Array.isArray(t)?t:[])}).catch(e=>{console.log("Error fetching alarms:",e)})},u=(0,n.zj)(async({router:e,app:t})=>{try{console.log("[firebase boot] Starting...");const{useUserStore:t}=a(3009),{useSiteStore:n}=a(485),{useAccountStore:l}=a(2255),{useAdStore:u}=a(3206),{useDefaultCostStore:m}=a(8936),{useGetAlarmsStore:g}=a(8217);console.log("[firebase boot] Stores imported"),r=t(),o=n(),s=l(),i=u(),c=m(),d=g(),console.log("[firebase boot] Stores initialized"),e.beforeEach((e,t,a)=>{const n=r.getUser,o=e.matched.some(e=>e.meta.requiresAuth),s=e.matched.some(e=>e.meta.guest);console.log("[Router Guard]",{path:e.path,name:e.name,requiresAuth:o,isGuestRoute:s,hasUser:!!n}),o&&!n?(console.log("[Router Guard] Redirecting to login - no user"),a({name:"login"})):n&&s&&"login"===e.name?(console.log("[Router Guard] Redirecting to account-select - user already logged in"),a({name:"account-select"})):a()}),console.log("[firebase boot] Complete!")}catch(e){console.error("[firebase boot] ERROR:",e)}})},3009:(e,t,a)=>{a.r(t),a.d(t,{useUserStore:()=>o});a(310),a(95);var n=a(5679);const r=(0,n.og)(),o=(0,n.nY)("user",{state:()=>({user:null,authToken:null}),getters:{getUser:e=>e.user,getToken:e=>e.authToken},actions:{setUser(e,t){this.user=e,this.authToken=t},signOut(){r._s.forEach(e=>e.$reset())}},persist:!0})},3206:(e,t,a)=>{a.r(t),a.d(t,{useAdStore:()=>r});var n=a(5679);const r=(0,n.nY)("ads",{state:()=>({ads:[]}),getters:{getAds:e=>e.ads},actions:{setAds(e){this.ads=e}},persist:!0})},4685:(e,t,a)=>{a.d(t,{B9:()=>v,Ht:()=>h,Is:()=>c,Nq:()=>b,Oj:()=>y,_m:()=>l,cN:()=>g,iD:()=>m,lw:()=>u,qc:()=>p,ri:()=>A,wR:()=>f,x2:()=>d});a(310),a(5962),a(2203),a(199),a(7346);const n="mycities_accounts",r="mycities_session",o={id:"demo_user_001",email:"demo@mycities.co.za",password:"demo123",fullName:"Demo User",company:"MyCities Demo",phone:"+27 11 123 4567",timezone:"Africa/Johannesburg",createdAt:"2024-01-01T00:00:00.000Z",isDemo:!0,role:"user"},s={id:"demo_admin_001",email:"admin@mycities.co.za",password:"admin123",fullName:"Admin User",company:"MyCities Admin",phone:"+27 11 123 4568",timezone:"Africa/Johannesburg",createdAt:"2024-01-01T00:00:00.000Z",isDemo:!0,role:"admin"};function i(){const e=c();let t=!1;e.find(e=>e.id===o.id)||(e.push(o),t=!0),e.find(e=>e.id===s.id)||(e.push(s),t=!0),t&&localStorage.setItem(n,JSON.stringify(e))}function c(){try{const e=localStorage.getItem(n);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading accounts:",e),[]}}function d(e){const t=c();return t.find(t=>t.email.toLowerCase()===e.toLowerCase())||null}function l(e){const t=c();if(t.find(t=>t.email.toLowerCase()===e.email.toLowerCase()))throw new Error("An account with this email already exists");const a={...e,id:`account_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:(new Date).toISOString(),isDemo:!1};return t.push(a),localStorage.setItem(n,JSON.stringify(t)),a}function u(e){const t=c(),a=t.find(t=>t.id===e);if(!a||a.isDemo)return!1;const r=t.filter(t=>t.id!==e);localStorage.setItem(n,JSON.stringify(r));const o=h();return o&&o.accountId===e&&A(),!0}function m(e,t){i();const a=d(e);if(!a)throw new Error("No account found with this email");if(a.password!==t)throw new Error("Invalid password");const n={accountId:a.id,email:a.email,fullName:a.fullName,isDemo:a.isDemo||!1,role:a.role||"user",loginAt:(new Date).toISOString()};return localStorage.setItem(r,JSON.stringify(n)),n}function g(){return i(),m(s.email,s.password)}function p(){const e=h();return e&&"admin"===e.role}function h(){try{const e=localStorage.getItem(r);return e?JSON.parse(e):null}catch(e){return console.error("Error reading session:",e),null}}function f(){return null!==h()}function b(e){try{if(!e)return void localStorage.removeItem(r);localStorage.setItem(r,JSON.stringify(e))}catch(e){console.error("Error writing session:",e)}}function A(){localStorage.removeItem(r)}function v(e){const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.test(e)}function y(e){return!e||e.length<6?{valid:!1,message:"Password must be at least 6 characters"}:{valid:!0,message:""}}i()},8217:(e,t,a)=>{a.r(t),a.d(t,{useGetAlarmsStore:()=>r});var n=a(5679);const r=(0,n.nY)("alarms",{state:()=>({alarms:[]}),getters:{getAlarms:e=>e.alarms},actions:{setAlarms(e){this.alarms=e}},persist:!0})},8936:(e,t,a)=>{a.r(t),a.d(t,{useDefaultCostStore:()=>r});var n=a(5679);const r=(0,n.nY)("defaultCost",{state:()=>({defaultCost:[]}),getters:{getDefaultCost:e=>e.defaultCost},actions:{setDefaultCost(e){this.defaultCost=e}},persist:!0})},9004:(e,t,a)=>{a.r(t),a.d(t,{useReadingStore:()=>o});a(310),a(5962),a(2802);var n=a(5679);const r=(e,t,a)=>e.reduce((e,n)=>({...e,[n[t][a]]:(e[n[t][a]]||[]).concat(n)}),{}),o=(0,n.nY)("reading",{state:()=>({readings:[]}),getters:{},actions:{addReading(e){this.readings.push(e)},updateReading(e){this.delete(e.time,e.meter.id),this.addReading(e)},deleteReadings(e){let t=this.readings.findIndex(({id:t})=>e==t);t>-1&&this.readings.splice(t,1)},delete(e,t){const a=this.readings.findIndex(a=>a.time==e&&a.meter.id===t);this.readings.splice(a,1)},getReadingsByMeterId(e){return this.readings.filter(({meter:t})=>t.id==e).sort((e,t)=>t.time-e.time)},saveReadings(e){const t=r(e,"meter","id");this.readings=this.readings.filter(e=>!(void 0==e.meter.id||void 0!==t[e.meter.id])),this.readings.push(...e)}},persist:!0})}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,a),o.exports}a.m=e,(()=>{var e=[];a.O=(t,n,r,o)=>{if(!n){var s=1/0;for(l=0;l<e.length;l++){for(var[n,r,o]=e[l],i=!0,c=0;c<n.length;c++)(!1&o||s>=o)&&Object.keys(a.O).every(e=>a.O[e](n[c]))?n.splice(c--,1):(i=!1,o<s&&(s=o));if(i){e.splice(l--,1);var d=r();void 0!==d&&(t=d)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[n,r,o]}})(),(()=>{a.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return a.d(t,{a:t}),t}})(),(()=>{a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}})(),(()=>{a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce((t,n)=>(a.f[n](e,t),t),[]))})(),(()=>{a.u=e=>"js/"+(996===e?"chunk-common":e)+"."+{40:"a4eea9ef",131:"a8ddb304",136:"73ae9ab2",163:"7f51a15f",212:"d4649f5a",288:"c3063171",418:"f96f517d",443:"9ff84494",459:"2e18482e",476:"52cbbbd4",513:"2d553f40",601:"9f5bf657",623:"399972fe",667:"3d579b60",678:"37fd779a",679:"fac22e3b",741:"91ead773",754:"bcb75a16",800:"73b9f412",816:"dc5bdc5c",832:"97371029",871:"5bcc5040",907:"3c6b0187",909:"8f862558",923:"38fb7114",941:"23f8696f",976:"0a0bddb6",996:"0c0a9bd4"}[e]+".js"})(),(()=>{a.miniCssF=e=>"css/"+e+"."+{131:"e1ce39f6",136:"8e009ab7",163:"23d96c89",212:"965e1b1c",288:"a02e1b94",418:"4986151b",443:"9a96ff23",476:"028850db",513:"98f04da9",601:"9005879d",623:"a381bfca",667:"0e875667",679:"e077ef82",741:"9d96d59f",816:"fcdab059",871:"0109517c",907:"179135dd",923:"ce6351dc",976:"76bd62ba"}[e]+".css"})(),(()=>{a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="com.smart.meter.reading:";a.l=(n,r,o,s)=>{if(e[n])e[n].push(r);else{var i,c;if(void 0!==o)for(var d=document.getElementsByTagName("script"),l=0;l<d.length;l++){var u=d[l];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+o){i=u;break}}i||(c=!0,i=document.createElement("script"),i.charset="utf-8",a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",t+o),i.src=n),e[n]=[r];var m=(t,a)=>{i.onerror=i.onload=null,clearTimeout(g);var r=e[n];if(delete e[n],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach(e=>e(a)),t)return t(a)},g=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),c&&document.head.appendChild(i)}}})(),(()=>{a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{a.p="/web-app/"})(),(()=>{if("undefined"!==typeof document){var e=(e,t,n,r,o)=>{var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",a.nc&&(s.nonce=a.nc);var i=a=>{if(s.onerror=s.onload=null,"load"===a.type)r();else{var n=a&&a.type,i=a&&a.target&&a.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+n+": "+i+")");c.name="ChunkLoadError",c.code="CSS_CHUNK_LOAD_FAILED",c.type=n,c.request=i,s.parentNode&&s.parentNode.removeChild(s),o(c)}};return s.onerror=s.onload=i,s.href=t,n?n.parentNode.insertBefore(s,n.nextSibling):document.head.appendChild(s),s},t=(e,t)=>{for(var a=document.getElementsByTagName("link"),n=0;n<a.length;n++){var r=a[n],o=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(o===e||o===t))return r}var s=document.getElementsByTagName("style");for(n=0;n<s.length;n++){r=s[n],o=r.getAttribute("data-href");if(o===e||o===t)return r}},n=n=>new Promise((r,o)=>{var s=a.miniCssF(n),i=a.p+s;if(t(s,i))return r();e(n,i,null,r,o)}),r={524:0};a.f.miniCss=(e,t)=>{var a={131:1,136:1,163:1,212:1,288:1,418:1,443:1,476:1,513:1,601:1,623:1,667:1,679:1,741:1,816:1,871:1,907:1,923:1,976:1};r[e]?t.push(r[e]):0!==r[e]&&a[e]&&t.push(r[e]=n(e).then(()=>{r[e]=0},t=>{throw delete r[e],t}))}}})(),(()=>{var e={524:0};a.f.j=(t,n)=>{var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise((a,n)=>r=e[t]=[a,n]);n.push(r[2]=o);var s=a.p+a.u(t),i=new Error,c=n=>{if(a.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",i.name="ChunkLoadError",i.type=o,i.request=s,r[1](i)}};a.l(s,c,"chunk-"+t,t)}},a.O.j=t=>0===e[t];var t=(t,n)=>{var r,o,[s,i,c]=n,d=0;if(s.some(t=>0!==e[t])){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(c)var l=c(a)}for(t&&t(n);d<s.length;d++)o=s[d],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(l)},n=globalThis["webpackChunkcom_smart_meter_reading"]=globalThis["webpackChunkcom_smart_meter_reading"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=a.O(void 0,[121],()=>a(1890));n=a.O(n)})();